<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Airport Weather Dashboard</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
    />
  </head>
  <body>
    <div class="container">
      <div class="top-bar">
        <div class="flight-category {{ rules }}">{{rules}}</div>
        <div class="header">
          <div class="airport-code">{{arpt}}</div>
          <div class="airport-name">{{ArptName}}</div>
        </div>
      </div>

      <div class="main-content">
        <!-- Left Panel -->
        <div class="left-panel">
          <div class="current-weather">
            <div class="weather-icon-display">☁️</div>
            <div class="current-temp">{{temp}}°F</div>
            <div class="condition">{{obs | upper}}</div>
          </div>

          <div class="wind-display">
            <div class="wind-label">WIND</div>
            <div class="wind-content">
              <div class="wind-arrow">
                <div class="arrow" style="transform: rotate({{aarowdir}})">
                  ↑
                </div>
              </div>
              <div class="wind-info">
                <div class="wind-speed">{{wind}} KTS</div>
                <div class="wind-direction">{{winddir}}</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Center Panel -->
        <div class="center-panel">
          <div class="details-grid">
            <div class="detail-card">
              <div class="detail-label">VISIBILITY</div>
              <div class="detail-value">
                {{vis}}<span class="detail-unit"> SM</span>
              </div>
            </div>

            <div class="detail-card">
              <div class="detail-label">CEILING</div>
              <div class="detail-value">
                {{cig[0]}}<span class="detail-unit"> ft</span>
              </div>
            </div>

            <div class="detail-card">
              <div class="detail-label">PRESSURE</div>
              <div class="detail-value">
                {{px}}<span class="detail-unit"> inHg</span>
              </div>
            </div>

            <div class="detail-card">
              <div class="detail-label">PA/DA</div>
              <div class="detail-value">
                {{pa}}' / {{da}}'<span class="detail-unit"></span>
              </div>
            </div>

            <div class="detail-card">
              <div class="detail-label">DEW POINT</div>
              <div class="detail-value">{{dewpt}}°F</div>
            </div>

            <div class="detail-card">
              <div class="detail-label">Wx Observations</div>
              {%for code in wxcode%}
              <div class="detail-value">{{code}}</div>
              {%endfor%}
            </div>
          </div>
        </div>

        <!-- Right Panel -->
        <div class="right-panel">
          <div class="taf-title">TAF - Terminal Aerodrome Forecast</div>
          <div class="taf-box">
            {% for taf in tafraw %}
            <p class="taf-text">{{ taf }}</p>
            {% endfor %}
          </div>
        </div>
      </div>
      <div class="footer">UPDATED AT: {{time}}</div>
    </div>
  </body>
</html>
